<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Hackathon demo</title>
    <script src='https://aframe.io/releases/0.9.2/aframe.min.js'></script>
    <script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script>
        THREEx.ArToolkitContext.baseURL = 'https://raw.githack.com/jeromeetienne/ar.js/master/three.js/'
    </script>
    <script src="./componet.js"></script>
    <link rel="stylesheet" type="text/css" href="./style.css"/>
</head>

<body style='margin: 0; overflow: hidden;'>
    <a-scene 
        vr-mode-ui='enabled: false' 
        embedded
        arjs='sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnabled: false;'>
        <a-entity id="hoop" rotation="90 0 0" position="0 2 -1.8"> 
            <a-torus scale="0.6 0.6 0.6" position="0 0.173 -0.1" color="#43A367" radius="0.25" radius-tubular="0.005"></a-torus>
            <a-torus scale="0.6 0.6 0.6" static-body="shape: mesh;" position="0 0.173 -0.1" visible="false" radius="0.27" radius-tubular="0.02" material="" geometry="radius: 0.29; segmentsRadial: 5; segmentsTubular: 12"></a-torus>
            <a-plane
                scale="0.6 0.6 0.6"
                position="0 0 -0.3"
                rotation="-90 0 0"
                width="0.9"
                height="0.9"
                material="transparent: true; side: double;"
                src="./hoop.png"
                static-body
            ></a-plane>
        </a-entity>
        <a-sphere id="ball" dynamic-body radius="0.1" color="red" position="0.1 2.36 -1.5"></a-sphere>
    <a-camera gps-camera rotation-reader></a-camera>
</a-scene>
<script>

function ball_in_hoop() {
 AFRAME.registerComponent('ball', {
    init: function () {
        var ball = document.createElement("a-sphere");
        ball.setAttribute("id","ball")
        ball.setAttribute("radius", "0.1");
        ball.setAttribute("position", "0.1 2.36 -1.5");
        ball.setAttribute("dynamic-body");
        ball.setAttribute("color", "orange");
    }
  });
}


el.addEventListener("touchmove", ball_in_hoop, false);
</script>

</body>